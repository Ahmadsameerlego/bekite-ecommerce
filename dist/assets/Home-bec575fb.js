import{_ as K,r as g,o as V,a as Y,b as r,c as l,d as O,w as H,T as W,e,f as C,g as Z,v as ee,h as J,t as c,F as j,i as B,j as te,k as X,l as oe,m as M,n as P,p as N,u as se,q as E}from"./index-f9698da2.js";import{P as re,_ as U}from"./CartSidebar.vue_vue_type_style_index_0_scoped_a91bfc45_lang-b29e7eaa.js";import{E as ae}from"./EditAddOnsModal-6404cede.js";import{T as ne}from"./Toast-f6374e45.js";/* empty css                                                                        */const A=[{id:1,name:"برجر كلاسيك",image:"https://images.unsplash.com/photo-1550547660-d9450f859349?auto=format&fit=crop&w=600&q=80",description:"قطعة لحم بقري شهية مع خس وطماطم وصوص خاص.",price:7.99,originalPrice:8.99,discountedPrice:7.99,category:"البرجر",addOns:[{id:"a1",name:"جبنة إضافية",price:1},{id:"a2",name:"لحم مقدد",price:1.5},{id:"a3",name:"مخلل",price:.5}]},{id:2,name:"بيتزا نباتية",image:"https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=600&q=80",description:"عجينة مقرمشة مع صلصة طماطم وجبنة موتزاريلا وخضار طازجة.",price:10.5,originalPrice:12.5,discountedPrice:10.5,category:"البيتزا",addOns:[{id:"b1",name:"زيتون",price:.7},{id:"b2",name:"جبنة إضافية",price:1},{id:"b3",name:"فطر",price:.8}]},{id:3,name:"شاورما دجاج",image:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=600&q=80",description:"دجاج طري مع صوص الثوم والمخلل ملفوف في خبز البيتا.",price:7.5,category:"الشاورما",addOns:[{id:"c1",name:"صوص ثوم إضافي",price:.5},{id:"c2",name:"صوص حار",price:.5},{id:"c3",name:"بطاطس",price:1.2}]},{id:4,name:"سلطة سيزر",image:"https://images.unsplash.com/photo-1464306076886-debca5e8a6b0?auto=format&fit=crop&w=600&q=80",description:"خس طازج مع جبنة بارميزان وقطع خبز محمصة وصوص سيزر.",price:6,category:"السلطات",addOns:[{id:"d1",name:"دجاج مشوي",price:2},{id:"d2",name:"بارميزان إضافي",price:.7}]}],le={class:"relative w-full h-80 md:h-96 lg:h-[500px] overflow-hidden"},ie={key:0,class:"absolute inset-0 w-full h-full"},de=["src"],ce={class:"relative z-20 h-full flex flex-col justify-center items-center px-4"},ue={class:"w-full max-w-2xl mx-auto px-2"},pe={class:"bg-white/95 backdrop-blur-md rounded-3xl shadow-2xl border border-white/20 p-4 sm:p-6 md:p-4"},me={class:"mb-6"},he={class:"relative"},ve=["placeholder"],fe={class:"mt-6"},ge={class:"mt-8 md:mt-12 flex gap-3 justify-start overflow-x-auto md:flex-wrap md:justify-center scrollbar-hide"},xe=["onClick"],_e={__name:"HeroSection",props:{sliderData:{type:Array,default:()=>[]},sections:{type:Array,default:()=>[]}},emits:["search","to-category"],setup(k,{emit:v}){const $=v,h=k;function x(S){$("go-to-category",S)}const y=g(0),_=g("");let D=null;V(()=>{h.sliderData&&h.sliderData.length&&(D=setInterval(()=>{y.value=(y.value+1)%h.sliderData.length},5e3))}),Y(()=>{clearInterval(D)});function T(){$("search",_.value)}return(S,d)=>(r(),l("section",le,[k.sliderData.length?(r(),l("div",ie,[O(W,{name:"fade-slide",mode:"out-in"},{default:H(()=>{var f,p;return[(r(),l("img",{key:(f=k.sliderData[y.value])==null?void 0:f.id,src:(p=k.sliderData[y.value])==null?void 0:p.image,class:"object-contain w-full h-full transition-all duration-700",alt:"Hero image"},null,8,de))]}),_:1}),d[1]||(d[1]=e("div",{class:"absolute inset-0 bg-gradient-to-b from-black/60 via-black/30 to-black/60"},null,-1))])):C("",!0),e("div",ce,[e("div",ue,[e("div",pe,[e("div",me,[e("div",he,[d[2]||(d[2]=e("div",{class:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none"},[e("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),Z(e("input",{"onUpdate:modelValue":d[0]||(d[0]=f=>_.value=f),type:"text",placeholder:S.$t("hero.searchPlaceholder"),class:"w-full pr-12 pl-2 py-2 sm:py-4 md:py-2 text-base sm:text-lg border-2 border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all bg-white/80"},null,8,ve),[[ee,_.value]])])]),e("div",fe,[e("button",{onClick:T,class:"w-1/2 mx-auto bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 sm:py-4 md:py-2 rounded-2xl font-bold text-base sm:text-lg hover:from-orange-600 hover:to-red-600 transition-all shadow-lg flex items-center justify-center gap-3"},[d[3]||(d[3]=e("svg",{class:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),J(" "+c(S.$t("hero.searchButton")),1)])])])]),e("div",ge,[(r(!0),l(j,null,B(k.sections,f=>(r(),l("button",{key:f.id,onClick:p=>x(f.id),class:"bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-full font-medium hover:bg-white/30 transition-all border border-white/30 shrink-0"},c(f.title),9,xe))),128))])])]))}},be=K(_e,[["__scopeId","data-v-956d4278"]]),ye={key:0,class:"fixed top-0 right-0 h-full w-80 max-w-full bg-white shadow-lg z-50 flex flex-col text-right",dir:"rtl"},we={class:"flex items-center justify-between p-4 border-b"},ke={class:"flex-1 p-4 overflow-y-auto"},Ce={class:"flex items-center justify-between mb-1"},$e={class:"font-semibold"},Se={class:"flex items-center gap-2"},je=["onClick"],De={class:"mx-1"},Be=["onClick"],Ie=["onClick"],Me={key:0,class:"text-xs text-gray-500 mb-1"},Oe={class:"flex items-center justify-between"},Te={class:"text-sm font-bold text-primary"},Pe=["onClick"],Ne={key:1,class:"text-gray-500"},Ue={class:"p-4 border-t"},Le={__name:"CartSidebar",props:{open:{type:Boolean,default:!1}},emits:["close"],setup(k,{emit:v}){const $=k;te(()=>$.open,a=>{a&&p()});const h=g({visible:!1,message:"",type:"success"}),x=(a,t="success")=>{h.value={visible:!0,message:a,type:t},setTimeout(()=>h.value.visible=!1,3e3)},y=X("cart");console.log($.payload,"dsdsds ");const _=g(!1),D=g(null),T=a=>{D.value=a,_.value=!0},S=a=>{p(),console.log(a,"updateData ")},d=g([]),f=g([]),p=async()=>{var t;const a=JSON.parse(localStorage.getItem("user")||"{}");try{const n=await P.post("/api/show-cart",{user_id:a.id});d.value=n.data.data,f.value=(t=n.data)==null?void 0:t.providers}catch(n){console.error("Error fetching data:",n)}};V(()=>{p()});const L=()=>{d.value=localStorage.setItem("cart_data",JSON.stringify(y.value)),localStorage.setItem("providers",JSON.stringify(f.value))},z=async a=>{const t=JSON.parse(localStorage.getItem("user")||"{}");try{const n=await P.post("/api/update-to-cart",{user_id:t.id,cart_id:a,count:0,option_ids:[]});x(n.data.msg,"success"),setTimeout(()=>{p()},800)}catch(n){console.error("Error fetching data:",n),x("فشل الاتصال بالخادم","error")}},o=a=>{const t=d.value.find(n=>n.id===a);t&&w(t,t.count+1)},s=a=>{const t=d.value.find(n=>n.id===a);t&&w(t,t.count-1)},w=async(a,t)=>{var i;const n=JSON.parse(localStorage.getItem("user")||"{}");if(!(n!=null&&n.id)){x("يجب تسجيل الدخول أولاً","error");return}try{if(t<=0)await P.post("/api/update-to-cart",{user_id:n.id,cart_id:a.id,count:0,option_ids:[]}),x("تم إزالة العنصر من السلة","success");else{const b=await P.post("/api/update-to-cart",{user_id:n.id,cart_id:a.id,count:t,option_ids:JSON.stringify((i=a.service_options)==null?void 0:i.map(m=>m.id))||[]});x("تم تحديث عدد العناصر","success")}p()}catch(b){console.error("Error updating item count:",b),x("فشل الاتصال بالخادم","error")}};return(a,t)=>{const n=oe("router-link");return r(),l(j,null,[O(W,{name:"slide-rtl"},{default:H(()=>[k.open?(r(),l("aside",ye,[O(ae,{open:_.value,item:D.value,onClose:t[0]||(t[0]=i=>_.value=!1),onUpdate:S},null,8,["open","item"]),e("div",we,[t[3]||(t[3]=e("h2",{class:"text-xl font-bold"},"سلة المشتريات",-1)),e("button",{onClick:t[1]||(t[1]=i=>a.$emit("close")),class:"text-gray-400 hover:text-gray-700 bg-white rounded-full p-1 shadow-md hover:shadow-lg transition-all"},t[2]||(t[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",ke,[d.value.length?(r(!0),l(j,{key:0},B(d.value,i=>{var b;return r(),l("div",{key:i.id,class:"mb-4 border-b pb-2"},[e("div",Ce,[e("div",$e,c(i.service_title),1),e("div",Se,[e("button",{onClick:m=>o(i.id),class:"bg-gray-200 rounded px-2"},"+",8,je),e("span",De,c(i.count),1),e("button",{onClick:m=>s(i.id),class:"bg-gray-200 rounded px-2"},"-",8,Be)]),e("button",{onClick:m=>z(i.id),class:"text-red-500 hover:text-red-700"},t[4]||(t[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Ie)]),(b=i.options)!=null&&b.length?(r(),l("div",Me,"إضافات: "+c(i.options.map(m=>m.title).join("، ")),1)):C("",!0),e("div",Oe,[e("div",Te,c(i.total_with_option)+" د.أ",1),e("button",{onClick:m=>T(i),class:"text-primary hover:text-primary-dark text-xs flex items-center gap-1"},t[5]||(t[5]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),J(" تعديل الإضافات ",-1)]),8,Pe)])])}),128)):(r(),l("p",Ne,"سلتك فارغة"))]),e("div",Ue,[O(n,{to:"/checkout",onClick:L,class:"block w-full bg-primary text-white py-2 rounded font-semibold hover:bg-primary-dark transition text-center"},{default:H(()=>t[6]||(t[6]=[J(" إتمام الطلب ",-1)])),_:1,__:[6]})])])):C("",!0)]),_:1}),h.value.visible?(r(),M(ne,{key:0,message:h.value.message,type:h.value.type,visible:h.value.visible},null,8,["message","type","visible"])):C("",!0)],64)}}},ze=K(Le,[["__scopeId","data-v-a91bfc45"]]),Ee={class:""},Ae={key:0,class:"container mx-auto px-4 py-8"},He={key:0},Je={class:"flex gap-6 overflow-x-auto"},Ve={key:1},Fe={class:"container mx-auto px-4 py-12"},qe={class:"text-center mb-12"},Qe={class:"text-4xl font-bold mb-4 bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent"},Re={class:"text-gray-600 text-lg"},Ge={class:"overflow-x-auto pb-4"},Ke={key:1,class:"py-12"},We={class:"container mx-auto px-4"},Xe={class:"text-center mb-12"},Ye={class:"text-4xl font-bold mb-4 text-red-600"},Ze={class:"text-gray-600 text-lg"},et={class:"overflow-x-auto pb-4"},tt={class:"container mx-auto px-4 py-12"},ot=["id"],st={class:"text-center mb-8"},rt={class:"text-3xl font-bold mb-2 text-gray-800"},at={class:"overflow-x-auto pb-4"},nt={key:1},lt={class:"bg-gradient-to-r from-gray-50 to-gray-100 py-16"},it={class:"container mx-auto px-4"},dt={class:"text-center mb-12"},ct={class:"text-4xl font-bold mb-4 text-gray-800"},ut={class:"text-gray-600 text-lg"},pt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8"},mt={class:"text-center"},ht={class:"text-xl font-bold mb-2"},vt={class:"text-gray-600"},ft={class:"text-center"},gt={class:"text-xl font-bold mb-2"},xt={class:"text-gray-600"},_t={class:"text-center"},bt={class:"text-xl font-bold mb-2"},yt={class:"text-gray-600"},Dt={__name:"Home",setup(k){const v=g(null);N(()=>A),N(()=>A.filter(o=>o.discountedPrice&&o.originalPrice&&o.discountedPrice<o.originalPrice)),N(()=>[...new Set(A.map(o=>o.category))]);function $(o){var s,w;return(w=(s=v.value)==null?void 0:s.data)==null?void 0:w.services.filter(a=>a.section_id===o.id)}const h=g(null),x=g(!1),y=g(!1);function _(o){h.value=o,x.value=!0}function D(){x.value=!1,h.value=null}g(null);const T=X("addToCart");function S(o){console.log(o),T(o),y.value=!0}se();const d=N(()=>"flex gap-4 md:gap-6  pb-4 "),f=async()=>{const o=JSON.parse(localStorage.getItem("user")||"{}");try{const s=await P.post("/api/home",{user_id:o.id});v.value=s.data,console.log("Home data fetched successfully:",v.value.data)}catch(s){console.error("Error fetching data:",s)}},p=g(null);function L(o){var a,t,n,i;if(!o){p.value=null;return}const s=(t=(a=v.value)==null?void 0:a.data)==null?void 0:t.services.filter(b=>{var m;return(m=b.title)==null?void 0:m.toLowerCase().includes(o.toLowerCase())}),w=(i=(n=v.value)==null?void 0:n.data)==null?void 0:i.sections.filter(b=>{var m;return(m=b.title)==null?void 0:m.toLowerCase().includes(o.toLowerCase())});p.value={services:s,sections:w}}function z(o){const s=document.getElementById(`section-${o}`);s&&s.scrollIntoView({behavior:"smooth",block:"start"})}return V(()=>{f()}),(o,s)=>{var w,a,t,n,i,b,m,F,q,Q,R,G;return r(),l("div",Ee,[O(be,{onGoToCategory:z,sliderData:(a=(w=v.value)==null?void 0:w.data)==null?void 0:a.sliders,sections:(n=(t=v.value)==null?void 0:t.data)==null?void 0:n.sections,onSearch:L},null,8,["sliderData","sections"]),p.value?(r(),l("div",Ae,[s[3]||(s[3]=e("h2",{class:"text-center text-4xl font-bold mb-4 bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent"},"نتائج البحث",-1)),p.value.services.length?(r(),l("div",He,[s[1]||(s[1]=e("h3",{class:"text-xl font-semibold mb-2"},"الخدمات",-1)),e("div",Je,[(r(!0),l(j,null,B(p.value.services,u=>(r(),M(U,{key:u.id,product:u,onClick:I=>_(u),rtl:""},null,8,["product","onClick"]))),128))])])):C("",!0),!p.value.sections.length&&!p.value.services.length?(r(),l("div",Ve,s[2]||(s[2]=[e("p",{class:"text-red-600 text-lg"},"لا توجد نتائج مطابقة !",-1)]))):C("",!0)])):C("",!0),e("div",Fe,[e("div",qe,[e("h2",Qe,c(o.$t("home.menu.title")),1),e("p",Re,c(o.$t("home.menu.subtitle")),1)]),e("div",Ge,[e("div",{class:E(["flex gap-6",d.value])},[(r(!0),l(j,null,B((b=(i=v.value)==null?void 0:i.data)==null?void 0:b.services,u=>(r(),M(U,{key:u.id,product:u,onClick:I=>_(u),rtl:""},null,8,["product","onClick"]))),128))],2)])]),((F=(m=v.value)==null?void 0:m.data)==null?void 0:F.offers.length)>0?(r(),l("div",Ke,[e("div",We,[e("div",Xe,[e("h2",Ye,c(o.$t("home.offers.title")),1),e("p",Ze,c(o.$t("home.offers.subtitle")),1)]),e("div",et,[e("div",{class:E(["flex gap-6",d.value])},[(r(!0),l(j,null,B((Q=(q=v.value)==null?void 0:q.data)==null?void 0:Q.offers,u=>(r(),M(U,{key:u.id,product:u,"show-discount":!0,onClick:I=>_(u),rtl:""},null,8,["product","onClick"]))),128))],2)])])])):C("",!0),e("div",tt,[(r(!0),l(j,null,B((G=(R=v.value)==null?void 0:R.data)==null?void 0:G.sections,u=>(r(),l("div",{key:u.id,class:"mb-16",id:"section-"+u.id},[e("div",st,[e("h2",rt,c(u.title),1),s[4]||(s[4]=e("div",{class:"w-24 h-1 bg-gradient-to-r from-orange-500 to-red-500 mx-auto rounded-full"},null,-1))]),e("div",at,[$(u).length?(r(),l("div",{key:0,class:E(["flex gap-6",d.value])},[(r(!0),l(j,null,B($(u),I=>(r(),M(U,{key:I.id,product:I,onClick:wt=>_(I),rtl:""},null,8,["product","onClick"]))),128))],2)):(r(),l("div",nt,s[5]||(s[5]=[e("p",{class:"text-red-600 text-center text-2xl"},"لا توجد منتجات في هذا القسم !",-1)])))])],8,ot))),128))]),e("div",lt,[e("div",it,[e("div",dt,[e("h2",ct,c(o.$t("home.whyChooseUs.title")),1),e("p",ut,c(o.$t("home.whyChooseUs.subtitle")),1)]),e("div",pt,[e("div",mt,[s[6]||(s[6]=e("div",{class:"w-16 h-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("h3",ht,c(o.$t("home.whyChooseUs.fastDelivery.title")),1),e("p",vt,c(o.$t("home.whyChooseUs.fastDelivery.description")),1)]),e("div",ft,[s[7]||(s[7]=e("div",{class:"w-16 h-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})])],-1)),e("h3",gt,c(o.$t("home.whyChooseUs.freshFood.title")),1),e("p",xt,c(o.$t("home.whyChooseUs.freshFood.description")),1)]),e("div",_t,[s[8]||(s[8]=e("div",{class:"w-16 h-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("h3",bt,c(o.$t("home.whyChooseUs.highQuality.title")),1),e("p",yt,c(o.$t("home.whyChooseUs.highQuality.description")),1)])])])]),h.value?(r(),M(re,{key:2,open:x.value,product:h.value,onClose:D,onAddToCart:S,rtl:""},null,8,["open","product"])):C("",!0),O(ze,{open:y.value,onClose:s[0]||(s[0]=u=>y.value=!1)},null,8,["open"])])}}};export{Dt as default};
