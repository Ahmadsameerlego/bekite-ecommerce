import{_ as ue,r as a,u as ce,p as $,o as pe,l as G,b as d,c as i,e,s as D,F as L,i as E,h as S,g,v as M,q as h,t as m,f,z as C,A as ve,d as O,w as q,T as ge,m as Y,n as U,B as me}from"./index-2e1d6b55.js";import{T as be}from"./Toast-6ec8500e.js";const ye={dir:"rtl",class:"bg-gradient-to-br from-orange-50 to-red-50 text-right min-h-screen"},fe={class:"container mx-auto px-4 py-8"},xe={class:"grid gap-8 lg:grid-cols-2"},he={class:"space-y-8"},_e={class:"space-y-3 max-h-64 overflow-y-auto"},ke=["onClick"],we={class:"flex items-center justify-between"},Me={class:"font-semibold text-gray-800"},Ce={class:"text-sm text-gray-500"},Se=["onClick"],Ve=["value"],Be={class:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-white/20"},Ne={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},je={key:0,class:"text-red-500 text-sm mt-2"},Ue={key:0,class:"text-red-500 text-sm mt-2"},Ae={class:"grid gap-4"},Ie={class:""},Pe={class:"mb-3"},Te={class:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-white/20"},Ge={class:"space-y-4 mb-10"},Le={key:0},Oe={class:"flex items-center p-4 mb-2 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-primary transition-all"},ze=["value"],Fe={class:"mr-4"},Je={class:"font-semibold"},$e={class:"text-sm text-gray-500"},De={class:"space-y-4"},Ee={key:0},qe={class:"mb-3"},He={class:"grid grid-cols-1 gap-4 mt-5"},Re={class:"space-y-6"},Ke={class:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-white/20"},Qe={key:0,class:"space-y-4"},We={class:"flex justify-between items-start mb-2"},Xe={class:"font-semibold text-lg"},Ye={key:0,class:"text-sm text-gray-500"},Ze={class:"text-left"},et={class:"font-bold text-lg"},tt={class:"border-t border-gray-200 pt-6 space-y-3"},ot={class:"flex justify-between"},rt={class:"text-lg font-semibold"},lt={class:"flex justify-between"},st={class:"text-lg font-semibold"},at={class:"relative flex"},nt={key:0,class:"text-red-500 text-xs"},dt={class:"flex justify-between text-xl font-bold text-primary border-t border-gray-200 pt-3"},it={key:1,class:"text-center py-12"},ut={class:"space-y-4"},ct=["disabled"],pt={key:0,class:"flex items-center justify-center gap-2"},vt={key:1},gt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"},mt={class:"relative bg-white rounded-3xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto"},bt={class:"flex justify-between items-center mb-6"},yt={key:0,class:"mt-4"},ft={key:1,class:"flex gap-4 mt-6"},xt={__name:"Checkout",setup(ht){const p=JSON.parse(localStorage.getItem("user")||"{}"),_=a({visible:!1,message:"",type:"success"}),A=a([]),u=(l,t="success")=>{_.value={visible:!0,message:l,type:t},setTimeout(()=>_.value.visible=!1,3e3)},H=a({}),Z=ce(),V=a(JSON.parse(localStorage.getItem("cart_data")||"[]")),r=a({name:p==null?void 0:p.first_name,phone:p==null?void 0:p.full_phone,address:(p==null?void 0:p.address)||"",apartment:"",floor:"",location:"",deliveryMethod:"delivery",paymentMethod:"cash",coupon:"",branchProvider:null}),z=a(0),R=a([]),B=$(()=>V.value.reduce((l,t)=>l+t.total_with_option,0)),K=$(()=>B.value+P.value-z.value),b=a({}),ee=a(""),te=async()=>{var s,y,k,w,o,v;if(!r.value.coupon.trim()){b.value.coupon="يرجى إدخال رمز القسيمة";return}const t={lang:"ar",user_id:JSON.parse(localStorage.getItem("user")||"{}").id,code:r.value.coupon};try{const n=await U.post("/api/check-promo",t);((s=n.data)==null?void 0:s.key)===1?(u(((y=n.data)==null?void 0:y.msg)||"رمز القسيمة صالح","success"),ee.value=(k=n.data)==null?void 0:k.data,z.value=B.value*n.data.data/100):(z.value=0,u(((w=n.data)==null?void 0:w.msg)||"رمز القسيمة غير صالح","error"))}catch(n){console.error("Checkout error:",n),u(((v=(o=n.response)==null?void 0:o.data)==null?void 0:v.msg)||"فشل في التحقق من رمز القسيمة","error")}finally{}},I=a(!1);a(null),a(null);const P=$(()=>{switch(r.value.deliveryMethod){case"branch":return 0;case"delivery":return 2;default:return 2}});function oe(){return b.value={},r.value.name.trim()||(b.value.name="الاسم مطلوب"),r.value.phone.trim()||(b.value.phone="رقم الهاتف مطلوب"),Object.keys(b.value).length===0}async function re(){var s,y,k,w,o,v;if(!oe())return;if(!V.value.length){_.error("السلة فارغة");return}const l=JSON.parse(localStorage.getItem("user")||"{}");console.log(l,"user");const t={lang:"ar",user_id:l.id,type:r.value.deliveryMethod==="branch"?"pickup":"delivery",lat:((s=A.value.find(n=>n.vip===!0))==null?void 0:s.lat)||null,lng:((y=A.value.find(n=>n.vip===!0))==null?void 0:y.lng)||null,name:r.value.name,phone:r.value.phone,address:r.value.address,apartment_number:r.value.apartment,floor_number:r.value.floor,sub_total:B.value,delivery:P.value,total_before_promo:B.value+P.value,total_after_promo:K.value,payment_method:r.value.paymentMethod,promo_code:r.value.coupon||"",provider_id:r.value.branchProvider||null};try{I.value=!0,console.log(t,"body");const n=await U.post("/api/store-order",t);u(((k=n.data)==null?void 0:k.msg)||"تم تأكيد الطلب بنجاح","success"),localStorage.removeItem("cart_data"),localStorage.setItem("order_data",JSON.stringify(((w=n.data)==null?void 0:w.data)||{})),setTimeout(()=>{Z.push("/thank-you")},1e3)}catch(n){console.error("Checkout error:",n),u(((v=(o=n.response)==null?void 0:o.data)==null?void 0:v.msg)||"فشل في تأكيد الطلب","error")}finally{I.value=!1}}const Q=a(!1),N=a(!1);a("");const F=a("");a([]),a({lat:null,lng:null,address:"",title:"home"});const x=a({lat:31.963158,lng:35.930359}),c=a(null),j=a("");a("profile");const le=a(null),T=a(!1),W=(l=null)=>{le.value=l,l?(x.value={lat:l.lat,lng:l.lng},c.value={...x.value},j.value=l.address,T.value=!0):(navigator.geolocation&&navigator.geolocation.getCurrentPosition(t=>{x.value={lat:t.coords.latitude,lng:t.coords.longitude},c.value={...x.value}},()=>{x.value={lat:31.963158,lng:35.930359}}),c.value=null,j.value="",T.value=!1),N.value=!0,me(()=>initSearchBox())},J=async()=>{if(!(p!=null&&p.id)){u("لم يتم العثور على مستخدم","error");return}try{Q.value=!0;const l=await U.post("/api/all-addresses",{lang:"ar",user_id:p.id});if(l.data.key===1){const t=l.data.data;A.value=t}else u(l.data.msg||"فشل في جلب البيانات","error")}catch(l){console.error("show-user error:",l),u("فشل الاتصال بالخادم","error")}finally{Q.value=!1}},se=l=>{c.value={lat:l.latLng.lat(),lng:l.latLng.lng()},X()},ae=l=>{c.value={lat:l.latLng.lat(),lng:l.latLng.lng()},X()},X=async()=>{if(!c.value)return;new google.maps.Geocoder().geocode({location:c.value},(t,s)=>{s==="OK"?t[0]?(j.value=t[0].formatted_address,console.log("Selected address:",t[0].formatted_address)):console.warn("No results found"):console.error("Geocoder failed due to: "+s)})};pe(()=>{J(),R.value=JSON.parse(localStorage.getItem("providers")||"[]"),navigator.geolocation&&navigator.geolocation.getCurrentPosition(s=>{x.value={lat:s.coords.latitude,lng:s.coords.longitude},c.value={...x.value},console.log(c,"fdfdfdfdfdfdfd")},s=>{console.warn("Geolocation error:",s)});const l=document.getElementById("searchBox");if(!l)return;const t=new google.maps.places.SearchBox(l);t.addListener("places_changed",()=>{const s=t.getPlaces();if(!s||!s.length)return;const y=s[0];y.geometry&&(x.value={lat:y.geometry.location.lat(),lng:y.geometry.location.lng()},c.value={...x.value},j.value=y.formatted_address)})});const ne=async()=>{if(!c.value){u("اختر موقعك أولاً","error");return}try{const l=await U.post("/api/store-address",{lang:"ar",user_id:p.id,title:F.value,address:j.value,lat:c.value.lat,lng:c.value.lng});l.data.key===1?(u("تم حفظ العنوان بنجاح","success"),N.value=!1,J()):u(l.data.msg||"خطأ في الحفظ","error")}catch(l){console.error(l),u("فشل الاتصال بالخادم","error")}},de=async l=>{const t=JSON.parse(localStorage.getItem("user")||"{}");if(!(t!=null&&t.id)){u("يجب تسجيل الدخول أولاً","error");return}try{const s=await U.post("/api/update-address",{user_id:t.id,address_id:l.id,vip:!0,lat:l.lat,lng:l.lng});s.data.key===1?(u("تم تعيين العنوان كافتراضي","success"),J()):u(s.data.msg||"خطأ في تعيين العنوان","error")}catch(s){console.error("Error setting default address:",s),u("فشل الاتصال بالخادم","error")}};return(l,t)=>{const s=G("router-link"),y=G("GMapAutocomplete"),k=G("GMapMarker"),w=G("GMapMap");return d(),i(L,null,[e("div",ye,[e("div",fe,[t[41]||(t[41]=e("h1",{class:"text-4xl font-bold mb-8 text-center bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent"}," إتمام الطلب ",-1)),e("form",{onSubmit:D(re,["prevent"]),class:"space-y-6"},[e("div",xe,[e("div",he,[e("div",null,[t[18]||(t[18]=e("label",{class:"block mb-3 font-semibold text-gray-700"},"الموقع علي الخريطه",-1)),e("div",_e,[(d(!0),i(L,null,E(A.value,o=>(d(),i("div",{key:o.id,onClick:D(v=>W(o),["stop"]),class:h(["p-4 border rounded-xl cursor-pointer transition-all bg-white",o.vip?"border-primary bg-orange-50":"border-gray-200 hover:bg-gray-50 hover:border-primary"])},[e("div",we,[e("div",null,[e("div",Me,m(o.title),1),e("div",Ce,m(o.address||o.lat+", "+o.lng),1)]),e("div",null,[e("label",{class:"flex items-center gap-2 cursor-pointer bg-gray-100 px-4 py-2 rounded-lg hover:bg-gray-200 transition",onClick:D(v=>de(o),["stop"])},[g(e("input",{type:"radio",name:"defaultAddress",value:o,"onUpdate:modelValue":t[0]||(t[0]=v=>H.value=v),class:"hidden"},null,8,Ve),[[C,H.value]]),e("span",{class:h(["text-sm",{"text-green-600 font-semibold":o.vip===!0}])},m(o.vip===!0?"العنوان الافتراضي":"تعيين كافتراضي"),3)],8,Se)])])],10,ke))),128))])]),e("button",{onClick:t[1]||(t[1]=o=>W()),class:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-4 rounded-xl font-bold text-lg hover:from-orange-600 hover:to-red-600 transition-all shadow-lg"}," إضافة عنوان "),e("div",Be,[t[24]||(t[24]=e("h2",{class:"text-2xl font-bold mb-6 flex items-center gap-3"},[e("svg",{class:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]),S(" معلومات التوصيل ")],-1)),e("div",Ne,[e("div",null,[t[19]||(t[19]=e("label",{class:"block mb-3 font-semibold text-gray-700"},"الاسم الكامل *",-1)),g(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>r.value.name=o),type:"text",class:h(["w-full border-2 border-gray-200 rounded-xl px-4 py-4 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",{"border-red-500":b.value.name}]),required:""},null,2),[[M,r.value.name]]),b.value.name?(d(),i("p",je,m(b.value.name),1)):f("",!0)]),e("div",null,[t[20]||(t[20]=e("label",{class:"block mb-3 font-semibold text-gray-700"},"رقم الهاتف *",-1)),g(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>r.value.phone=o),type:"tel",class:h(["w-full border-2 border-gray-200 rounded-xl px-4 py-4 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",{"border-red-500":b.value.phone}]),required:"",style:{direction:"rtl"},onInput:t[4]||(t[4]=o=>r.value.phone=r.value.phone.replace(/\D/g,""))},null,34),[[M,r.value.phone]]),b.value.phone?(d(),i("p",Ue,m(b.value.phone),1)):f("",!0)])]),e("section",Ae,[t[23]||(t[23]=e("div",{class:"h-full"},null,-1)),e("div",Ie,[e("div",Pe,[t[21]||(t[21]=e("label",{class:"block mb-3 font-semibold text-gray-700"},"رقم الشقة (اختياري)",-1)),g(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>r.value.apartment=o),type:"text",class:"w-full border-2 border-gray-200 rounded-xl px-4 py-4 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all"},null,512),[[M,r.value.apartment]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block mb-3 font-semibold text-gray-700"},"رقم الطابق (اختياري)",-1)),g(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>r.value.floor=o),type:"text",class:"w-full border-2 border-gray-200 rounded-xl px-4 py-4 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all"},null,512),[[M,r.value.floor]])])])])])]),e("div",Te,[t[31]||(t[31]=e("h2",{class:"text-2xl font-bold mb-6 flex items-center gap-3"},[e("svg",{class:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})]),S(" طريقة التوصيل ")],-1)),e("div",Ge,[e("label",{class:h(["flex items-center p-4 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-primary transition-all",{"border-primary bg-orange-50":r.value.deliveryMethod==="branch"}])},[g(e("input",{"onUpdate:modelValue":t[7]||(t[7]=o=>r.value.deliveryMethod=o),type:"radio",value:"branch",class:"text-primary focus:ring-primary"},null,512),[[C,r.value.deliveryMethod]]),t[25]||(t[25]=e("div",{class:"mr-4"},[e("div",{class:"font-semibold"},"استلام من الفرع"),e("div",{class:"text-sm text-gray-500"},"استلم طلبك من أقرب فرع")],-1))],2),r.value.deliveryMethod==="branch"?(d(),i("div",Le,[(d(!0),i(L,null,E(R.value,(o,v)=>(d(),i("div",{key:v},[e("label",Oe,[g(e("input",{"onUpdate:modelValue":t[8]||(t[8]=n=>r.value.branchProvider=n),type:"radio",value:o.id,class:"text-primary focus:ring-primary"},null,8,ze),[[C,r.value.branchProvider]]),e("div",Fe,[e("div",Je,m(o.name),1),e("div",$e,m(o.address),1)])])]))),128))])):f("",!0),e("label",{class:h(["flex items-center p-4 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-primary transition-all",{"border-primary bg-orange-50":r.value.deliveryMethod==="delivery"}])},[g(e("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>r.value.deliveryMethod=o),type:"radio",value:"delivery",class:"text-primary focus:ring-primary"},null,512),[[C,r.value.deliveryMethod]]),t[26]||(t[26]=e("div",{class:"mr-4"},[e("div",{class:"font-semibold"},"توصيل"),e("div",{class:"text-sm text-gray-500"},"توصيل سريع من مندوبنا")],-1))],2)]),t[32]||(t[32]=e("h2",{class:"text-2xl font-bold mb-6 flex items-center gap-3"},[e("svg",{class:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})]),S(" طريقة الدفع ")],-1)),e("div",De,[e("label",{class:h(["flex items-center p-4 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-primary transition-all",{"border-primary bg-orange-50":r.value.paymentMethod==="cash"}])},[g(e("input",{"onUpdate:modelValue":t[10]||(t[10]=o=>r.value.paymentMethod=o),type:"radio",value:"cash",class:"text-primary focus:ring-primary",checked:""},null,512),[[C,r.value.paymentMethod]]),t[27]||(t[27]=e("div",{class:"mr-4"},[e("div",{class:"font-semibold"},"الدفع عند الاستلام"),e("div",{class:"text-sm text-gray-500"}," ادفع نقداً عند استلام الطلب ")],-1))],2),e("label",{class:h(["flex items-center p-4 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-primary transition-all",{"border-primary bg-orange-50":r.value.paymentMethod==="online"}])},[g(e("input",{"onUpdate:modelValue":t[11]||(t[11]=o=>r.value.paymentMethod=o),type:"radio",value:"online",class:"text-primary focus:ring-primary"},null,512),[[C,r.value.paymentMethod]]),t[28]||(t[28]=e("div",{class:"mr-4"},[e("div",{class:"font-semibold"},"الدفع الإلكتروني"),e("div",{class:"text-sm text-gray-500"}," ادفع عبر البطاقة الائتمانية ")],-1))],2),e("label",{class:h(["flex items-center p-4 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-primary transition-all",{"border-primary bg-orange-50":r.value.paymentMethod==="click"}])},[g(e("input",{"onUpdate:modelValue":t[12]||(t[12]=o=>r.value.paymentMethod=o),type:"radio",value:"click",class:"text-primary focus:ring-primary"},null,512),[[C,r.value.paymentMethod]]),t[29]||(t[29]=ve('<div class="mr-4" data-v-1487eb71><div class="font-semibold" data-v-1487eb71>Click</div><div class="text-sm text-gray-500" data-v-1487eb71>ادفع عبر محفظة Click</div></div><div class="mx-10" data-v-1487eb71><span data-v-1487eb71> Click Number : </span><span class="font-semibold" data-v-1487eb71> 02434dsdsds </span></div>',2))],2),r.value.paymentMethod==="click"?(d(),i("div",Ee,[e("div",qe,[t[30]||(t[30]=e("label",{class:"block mb-3 font-semibold text-gray-700"},"ادخل رقم الحواله",-1)),g(e("input",{"onUpdate:modelValue":t[13]||(t[13]=o=>r.value.clickNumber=o),type:"text",class:"w-full border-2 border-gray-200 rounded-xl px-4 py-4 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all"},null,512),[[M,r.value.clickNumber]])])])):f("",!0)])])]),e("section",He,[e("div",Re,[e("div",Ke,[t[38]||(t[38]=e("h2",{class:"text-2xl font-bold mb-6 flex items-center gap-3"},[e("svg",{class:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})]),S(" ملخص الطلب ")],-1)),V.value.length?(d(),i("div",Qe,[(d(!0),i(L,null,E(V.value,o=>{var v,n;return d(),i("div",{key:o._key,class:"border-b border-gray-200 pb-4 last:border-b-0"},[e("div",We,[e("div",null,[e("h3",Xe,m(o.service_title),1),(v=o.service_options)!=null&&v.length?(d(),i("div",Ye," إضافات: "+m((n=o.service_options)==null?void 0:n.map(ie=>ie.title).join("، ")),1)):f("",!0)]),e("div",Ze,[e("span",et,m(o.total_with_option.toFixed(2))+" د.أ",1)])])])}),128)),e("div",tt,[e("div",ot,[t[33]||(t[33]=e("span",{class:"text-lg"},"إجمالي المنتجات:",-1)),e("span",rt,m(B.value.toFixed(2))+" د.أ",1)]),e("div",lt,[t[34]||(t[34]=e("span",{class:"text-lg"},"رسوم التوصيل:",-1)),e("span",st,m(P.value.toFixed(2))+" د.أ",1)]),e("div",null,[t[35]||(t[35]=e("label",{class:"block mb-3 font-semibold text-gray-700"},"كوبون الخصم ",-1)),e("div",at,[g(e("input",{"onUpdate:modelValue":t[14]||(t[14]=o=>r.value.coupon=o),type:"text",placeholder:"ادخل كوبون الخصم ان وجد",class:"w-full pr-12 pl-4 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all"},null,512),[[M,r.value.coupon]]),e("button",{onClick:te,class:"bg-primary text-white px-4 py-2 rounded-xl mx-2"}," تطبيق ")]),b.value.coupon?(d(),i("div",nt,m(b.value.coupon),1)):f("",!0)]),e("div",dt,[t[36]||(t[36]=e("span",null,"الإجمالي النهائي:",-1)),e("span",null,m(K.value.toFixed(2))+" د.أ",1)])])])):(d(),i("div",it,t[37]||(t[37]=[e("div",{class:"text-6xl mb-4"},"🛒",-1),e("p",{class:"text-gray-500 text-lg"},"لا توجد منتجات في السلة",-1)])))]),e("div",ut,[e("button",{disabled:!V.value.length||I.value,class:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-4 rounded-xl font-bold text-lg hover:from-orange-600 hover:to-red-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg"},[I.value?(d(),i("span",pt,t[39]||(t[39]=[e("svg",{class:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),S(" جاري التأكيد... ",-1)]))):(d(),i("span",vt,"تأكيد الطلب"))],8,ct),O(s,{to:"/cart",class:"block w-full bg-gray-100 text-gray-700 py-4 rounded-xl font-bold text-lg hover:bg-gray-200 transition-all text-center"},{default:q(()=>t[40]||(t[40]=[S(" رجوع إلى السلة ",-1)])),_:1,__:[40]})])])])],32)])]),O(ge,{name:"fade-slide"},{default:q(()=>[N.value?(d(),i("div",gt,[e("div",mt,[e("div",bt,[t[42]||(t[42]=e("h3",{class:"text-xl font-bold text-gray-800"},"اختر موقع التوصيل",-1)),e("button",{onClick:t[15]||(t[15]=o=>N.value=!1),class:"text-gray-400 hover:text-gray-700 bg-white rounded-full p-2 shadow-md"}," ✕ ")]),O(y,{placeholder:"This is a placeholder",onPlace_changed:l.setPlace,options:{bounds:{north:1.4,south:1.2,east:104,west:102},strictBounds:!0}},null,8,["onPlace_changed"]),O(w,{center:x.value,zoom:13,style:{width:"100%",height:"300px"},onClick:ae},{default:q(()=>[c.value?(d(),Y(k,{key:0,position:c.value,draggable:!0,onDragend:se},null,8,["position"])):f("",!0)]),_:1},8,["center"]),T.value?f("",!0):(d(),i("div",yt,[g(e("input",{"onUpdate:modelValue":t[16]||(t[16]=o=>F.value=o),placeholder:"أدخل اسم العنوان (مثلاً: المنزل، المكتب)",class:"w-full border-2 border-gray-200 rounded-2xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary"},null,512),[[M,F.value]])])),T.value?f("",!0):(d(),i("div",ft,[e("button",{onClick:ne,class:"flex-1 bg-gradient-to-r from-orange-500 to-red-500 text-white py-4 rounded-2xl font-semibold"}," حفظ الموقع "),e("button",{onClick:t[17]||(t[17]=o=>N.value=!1),class:"flex-1 bg-gray-200 text-gray-700 py-4 rounded-2xl font-semibold hover:bg-gray-300"}," إلغاء ")]))])])):f("",!0)]),_:1}),_.value.visible?(d(),Y(be,{key:0,message:_.value.message,type:_.value.type,visible:_.value.visible},null,8,["message","type","visible"])):f("",!0)],64)}}},wt=ue(xt,[["__scopeId","data-v-1487eb71"]]);export{wt as default};
