import{_ as G,r as g,o as V,a as X,b as o,c as n,d as T,w as H,T as K,e,f as $,g as Y,v as Z,h as J,t as d,F as S,i as M,j as ee,k as W,l as te,m as P,n as N,p as U,u as se,q as A}from"./index-fc33451e.js";import{P as oe,_ as L}from"./CartSidebar.vue_vue_type_style_index_0_scoped_a91bfc45_lang-6bff38c8.js";import{E as re}from"./EditAddOnsModal-b1917e0c.js";import{T as ae}from"./Toast-c3bd470b.js";/* empty css                                                                        */const E=[{id:1,name:"برجر كلاسيك",image:"https://images.unsplash.com/photo-1550547660-d9450f859349?auto=format&fit=crop&w=600&q=80",description:"قطعة لحم بقري شهية مع خس وطماطم وصوص خاص.",price:7.99,originalPrice:8.99,discountedPrice:7.99,category:"البرجر",addOns:[{id:"a1",name:"جبنة إضافية",price:1},{id:"a2",name:"لحم مقدد",price:1.5},{id:"a3",name:"مخلل",price:.5}]},{id:2,name:"بيتزا نباتية",image:"https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=600&q=80",description:"عجينة مقرمشة مع صلصة طماطم وجبنة موتزاريلا وخضار طازجة.",price:10.5,originalPrice:12.5,discountedPrice:10.5,category:"البيتزا",addOns:[{id:"b1",name:"زيتون",price:.7},{id:"b2",name:"جبنة إضافية",price:1},{id:"b3",name:"فطر",price:.8}]},{id:3,name:"شاورما دجاج",image:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=600&q=80",description:"دجاج طري مع صوص الثوم والمخلل ملفوف في خبز البيتا.",price:7.5,category:"الشاورما",addOns:[{id:"c1",name:"صوص ثوم إضافي",price:.5},{id:"c2",name:"صوص حار",price:.5},{id:"c3",name:"بطاطس",price:1.2}]},{id:4,name:"سلطة سيزر",image:"https://images.unsplash.com/photo-1464306076886-debca5e8a6b0?auto=format&fit=crop&w=600&q=80",description:"خس طازج مع جبنة بارميزان وقطع خبز محمصة وصوص سيزر.",price:6,category:"السلطات",addOns:[{id:"d1",name:"دجاج مشوي",price:2},{id:"d2",name:"بارميزان إضافي",price:.7}]}],le={class:"relative w-full h-80 md:h-96 lg:h-[500px] overflow-hidden"},ne={key:0,class:"absolute inset-0 w-full h-full"},ie=["src"],de={class:"relative z-20 h-full flex flex-col justify-center items-center px-4"},ce={class:"w-full max-w-2xl mx-auto px-2"},ue={class:"bg-white/95 backdrop-blur-md rounded-3xl shadow-2xl border border-white/20 p-4 sm:p-6 md:p-4"},pe={class:"mb-6"},me={class:"relative"},he=["placeholder"],ve={class:"mt-6"},fe={class:"mt-8 md:mt-12 flex gap-3 justify-start overflow-x-auto md:flex-wrap md:justify-center scrollbar-hide"},ge={__name:"HeroSection",props:{sliderData:{type:Array,default:()=>[]},sections:{type:Array,default:()=>[]}},emits:["search"],setup(w,{emit:h}){const j=h,p=w,m=g(0),k=g("");let b=null;V(()=>{p.sliderData&&p.sliderData.length&&(b=setInterval(()=>{m.value=(m.value+1)%p.sliderData.length},5e3))}),X(()=>{clearInterval(b)});function O(){j("search",k.value)}return(B,x)=>(o(),n("section",le,[w.sliderData.length?(o(),n("div",ne,[T(K,{name:"fade-slide",mode:"out-in"},{default:H(()=>{var c,D;return[(o(),n("img",{key:(c=w.sliderData[m.value])==null?void 0:c.id,src:(D=w.sliderData[m.value])==null?void 0:D.image,class:"object-contain w-full h-full transition-all duration-700",alt:"Hero image"},null,8,ie))]}),_:1}),x[1]||(x[1]=e("div",{class:"absolute inset-0 bg-gradient-to-b from-black/60 via-black/30 to-black/60"},null,-1))])):$("",!0),e("div",de,[e("div",ce,[e("div",ue,[e("div",pe,[e("div",me,[x[2]||(x[2]=e("div",{class:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none"},[e("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),Y(e("input",{"onUpdate:modelValue":x[0]||(x[0]=c=>k.value=c),type:"text",placeholder:B.$t("hero.searchPlaceholder"),class:"w-full pr-12 pl-2 py-2 sm:py-4 md:py-2 text-base sm:text-lg border-2 border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all bg-white/80"},null,8,he),[[Z,k.value]])])]),e("div",ve,[e("button",{onClick:O,class:"w-1/2 mx-auto bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 sm:py-4 md:py-2 rounded-2xl font-bold text-base sm:text-lg hover:from-orange-600 hover:to-red-600 transition-all shadow-lg flex items-center justify-center gap-3"},[x[3]||(x[3]=e("svg",{class:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),J(" "+d(B.$t("hero.searchButton")),1)])])])]),e("div",fe,[(o(!0),n(S,null,M(w.sections,c=>(o(),n("button",{key:c.id,class:"bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-full font-medium hover:bg-white/30 transition-all border border-white/30 shrink-0"},d(c.title),1))),128))])])]))}},xe=G(ge,[["__scopeId","data-v-eff17209"]]),be={key:0,class:"fixed top-0 right-0 h-full w-80 max-w-full bg-white shadow-lg z-50 flex flex-col text-right",dir:"rtl"},_e={class:"flex items-center justify-between p-4 border-b"},ye={class:"flex-1 p-4 overflow-y-auto"},we={class:"flex items-center justify-between mb-1"},ke={class:"font-semibold"},Ce={class:"flex items-center gap-2"},$e=["onClick"],Se={class:"mx-1"},je=["onClick"],De=["onClick"],Me={key:0,class:"text-xs text-gray-500 mb-1"},Oe={class:"flex items-center justify-between"},Be={class:"text-sm font-bold text-primary"},Ie=["onClick"],Pe={key:1,class:"text-gray-500"},Te={class:"p-4 border-t"},Ne={__name:"CartSidebar",props:{open:{type:Boolean,default:!1}},emits:["close"],setup(w,{emit:h}){const j=w;ee(()=>j.open,a=>{a&&f()});const p=g({visible:!1,message:"",type:"success"}),m=(a,t="success")=>{p.value={visible:!0,message:a,type:t},setTimeout(()=>p.value.visible=!1,3e3)},k=W("cart");console.log(j.payload,"dsdsds ");const b=g(!1),O=g(null),B=a=>{O.value=a,b.value=!0},x=a=>{f(),console.log(a,"updateData ")},c=g([]),D=g([]),f=async()=>{var t;const a=JSON.parse(localStorage.getItem("user")||"{}");try{const l=await N.post("/api/show-cart",{user_id:a.id});c.value=l.data.data,D.value=(t=l.data)==null?void 0:t.providers}catch(l){console.error("Error fetching data:",l)}};V(()=>{f()});const z=()=>{c.value=localStorage.setItem("cart_data",JSON.stringify(k.value)),localStorage.setItem("providers",JSON.stringify(D.value))},s=async a=>{const t=JSON.parse(localStorage.getItem("user")||"{}");try{const l=await N.post("/api/update-to-cart",{user_id:t.id,cart_id:a,count:0,option_ids:[]});m(l.data.msg,"success"),setTimeout(()=>{f()},800)}catch(l){console.error("Error fetching data:",l),m("فشل الاتصال بالخادم","error")}},r=a=>{const t=c.value.find(l=>l.id===a);t&&_(t,t.count+1)},C=a=>{const t=c.value.find(l=>l.id===a);t&&_(t,t.count-1)},_=async(a,t)=>{var i;const l=JSON.parse(localStorage.getItem("user")||"{}");if(!(l!=null&&l.id)){m("يجب تسجيل الدخول أولاً","error");return}try{if(t<=0)await N.post("/api/update-to-cart",{user_id:l.id,cart_id:a.id,count:0,option_ids:[]}),m("تم إزالة العنصر من السلة","success");else{const v=await N.post("/api/update-to-cart",{user_id:l.id,cart_id:a.id,count:t,option_ids:JSON.stringify((i=a.service_options)==null?void 0:i.map(y=>y.id))||[]});m("تم تحديث عدد العناصر","success")}f()}catch(v){console.error("Error updating item count:",v),m("فشل الاتصال بالخادم","error")}};return(a,t)=>{const l=te("router-link");return o(),n(S,null,[T(K,{name:"slide-rtl"},{default:H(()=>[w.open?(o(),n("aside",be,[T(re,{open:b.value,item:O.value,onClose:t[0]||(t[0]=i=>b.value=!1),onUpdate:x},null,8,["open","item"]),e("div",_e,[t[3]||(t[3]=e("h2",{class:"text-xl font-bold"},"سلة المشتريات",-1)),e("button",{onClick:t[1]||(t[1]=i=>a.$emit("close")),class:"text-gray-400 hover:text-gray-700 bg-white rounded-full p-1 shadow-md hover:shadow-lg transition-all"},t[2]||(t[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",ye,[c.value.length?(o(!0),n(S,{key:0},M(c.value,i=>{var v;return o(),n("div",{key:i.id,class:"mb-4 border-b pb-2"},[e("div",we,[e("div",ke,d(i.service_title),1),e("div",Ce,[e("button",{onClick:y=>r(i.id),class:"bg-gray-200 rounded px-2"},"+",8,$e),e("span",Se,d(i.count),1),e("button",{onClick:y=>C(i.id),class:"bg-gray-200 rounded px-2"},"-",8,je)]),e("button",{onClick:y=>s(i.id),class:"text-red-500 hover:text-red-700"},t[4]||(t[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,De)]),(v=i.options)!=null&&v.length?(o(),n("div",Me,"إضافات: "+d(i.options.map(y=>y.title).join("، ")),1)):$("",!0),e("div",Oe,[e("div",Be,d(i.total_with_option)+" د.أ",1),e("button",{onClick:y=>B(i),class:"text-primary hover:text-primary-dark text-xs flex items-center gap-1"},t[5]||(t[5]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),J(" تعديل الإضافات ",-1)]),8,Ie)])])}),128)):(o(),n("p",Pe,"سلتك فارغة"))]),e("div",Te,[T(l,{to:"/checkout",onClick:z,class:"block w-full bg-primary text-white py-2 rounded font-semibold hover:bg-primary-dark transition text-center"},{default:H(()=>t[6]||(t[6]=[J(" إتمام الطلب ",-1)])),_:1,__:[6]})])])):$("",!0)]),_:1}),p.value.visible?(o(),P(ae,{key:0,message:p.value.message,type:p.value.type,visible:p.value.visible},null,8,["message","type","visible"])):$("",!0)],64)}}},Ue=G(Ne,[["__scopeId","data-v-a91bfc45"]]),Le={class:""},ze={key:0,class:"container mx-auto px-4 py-8"},Ae={key:0},Ee={class:"flex gap-6 overflow-x-auto"},He={key:1},Je={class:"container mx-auto px-4 py-12"},Ve={class:"text-center mb-12"},Fe={class:"text-4xl font-bold mb-4 bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent"},qe={class:"text-gray-600 text-lg"},Qe={class:"overflow-x-auto pb-4"},Re={key:1,class:"py-12"},Ge={class:"container mx-auto px-4"},Ke={class:"text-center mb-12"},We={class:"text-4xl font-bold mb-4 text-red-600"},Xe={class:"text-gray-600 text-lg"},Ye={class:"overflow-x-auto pb-4"},Ze={class:"container mx-auto px-4 py-12"},et={class:"text-center mb-8"},tt={class:"text-3xl font-bold mb-2 text-gray-800"},st={class:"overflow-x-auto pb-4"},ot={key:1},rt={class:"bg-gradient-to-r from-gray-50 to-gray-100 py-16"},at={class:"container mx-auto px-4"},lt={class:"text-center mb-12"},nt={class:"text-4xl font-bold mb-4 text-gray-800"},it={class:"text-gray-600 text-lg"},dt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8"},ct={class:"text-center"},ut={class:"text-xl font-bold mb-2"},pt={class:"text-gray-600"},mt={class:"text-center"},ht={class:"text-xl font-bold mb-2"},vt={class:"text-gray-600"},ft={class:"text-center"},gt={class:"text-xl font-bold mb-2"},xt={class:"text-gray-600"},$t={__name:"Home",setup(w){const h=g(null);U(()=>E),U(()=>E.filter(s=>s.discountedPrice&&s.originalPrice&&s.discountedPrice<s.originalPrice)),U(()=>[...new Set(E.map(s=>s.category))]);function j(s){var r,C;return(C=(r=h.value)==null?void 0:r.data)==null?void 0:C.services.filter(_=>_.section_id===s.id)}const p=g(null),m=g(!1),k=g(!1);function b(s){p.value=s,m.value=!0}function O(){m.value=!1,p.value=null}g(null);const B=W("addToCart");function x(s){console.log(s),B(s),k.value=!0}se();const c=U(()=>"flex gap-4 md:gap-6  pb-4 "),D=async()=>{const s=JSON.parse(localStorage.getItem("user")||"{}");try{const r=await N.post("/api/home",{user_id:s.id});h.value=r.data,console.log("Home data fetched successfully:",h.value.data)}catch(r){console.error("Error fetching data:",r)}},f=g(null);function z(s){var _,a,t,l;if(!s){f.value=null;return}const r=(a=(_=h.value)==null?void 0:_.data)==null?void 0:a.services.filter(i=>{var v;return(v=i.title)==null?void 0:v.toLowerCase().includes(s.toLowerCase())}),C=(l=(t=h.value)==null?void 0:t.data)==null?void 0:l.sections.filter(i=>{var v;return(v=i.title)==null?void 0:v.toLowerCase().includes(s.toLowerCase())});f.value={services:r,sections:C}}return V(()=>{D()}),(s,r)=>{var C,_,a,t,l,i,v,y,F,q,Q,R;return o(),n("div",Le,[T(xe,{sliderData:(_=(C=h.value)==null?void 0:C.data)==null?void 0:_.sliders,sections:(t=(a=h.value)==null?void 0:a.data)==null?void 0:t.sections,onSearch:z},null,8,["sliderData","sections"]),f.value?(o(),n("div",ze,[r[3]||(r[3]=e("h2",{class:"text-center text-4xl font-bold mb-4 bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent"},"نتائج البحث",-1)),f.value.services.length?(o(),n("div",Ae,[r[1]||(r[1]=e("h3",{class:"text-xl font-semibold mb-2"},"الخدمات",-1)),e("div",Ee,[(o(!0),n(S,null,M(f.value.services,u=>(o(),P(L,{key:u.id,product:u,onClick:I=>b(u),rtl:""},null,8,["product","onClick"]))),128))])])):$("",!0),!f.value.sections.length&&!f.value.services.length?(o(),n("div",He,r[2]||(r[2]=[e("p",{class:"text-red-600 text-lg"},"لا توجد نتائج مطابقة !",-1)]))):$("",!0)])):$("",!0),e("div",Je,[e("div",Ve,[e("h2",Fe,d(s.$t("home.menu.title")),1),e("p",qe,d(s.$t("home.menu.subtitle")),1)]),e("div",Qe,[e("div",{class:A(["flex gap-6",c.value])},[(o(!0),n(S,null,M((i=(l=h.value)==null?void 0:l.data)==null?void 0:i.services,u=>(o(),P(L,{key:u.id,product:u,onClick:I=>b(u),rtl:""},null,8,["product","onClick"]))),128))],2)])]),((y=(v=h.value)==null?void 0:v.data)==null?void 0:y.offers.length)>0?(o(),n("div",Re,[e("div",Ge,[e("div",Ke,[e("h2",We,d(s.$t("home.offers.title")),1),e("p",Xe,d(s.$t("home.offers.subtitle")),1)]),e("div",Ye,[e("div",{class:A(["flex gap-6",c.value])},[(o(!0),n(S,null,M((q=(F=h.value)==null?void 0:F.data)==null?void 0:q.offers,u=>(o(),P(L,{key:u.id,product:u,"show-discount":!0,onClick:I=>b(u),rtl:""},null,8,["product","onClick"]))),128))],2)])])])):$("",!0),e("div",Ze,[(o(!0),n(S,null,M((R=(Q=h.value)==null?void 0:Q.data)==null?void 0:R.sections,u=>(o(),n("div",{key:u.id,class:"mb-16"},[e("div",et,[e("h2",tt,d(u.title),1),r[4]||(r[4]=e("div",{class:"w-24 h-1 bg-gradient-to-r from-orange-500 to-red-500 mx-auto rounded-full"},null,-1))]),e("div",st,[j(u).length?(o(),n("div",{key:0,class:A(["flex gap-6",c.value])},[(o(!0),n(S,null,M(j(u),I=>(o(),P(L,{key:I.id,product:I,onClick:bt=>b(I),rtl:""},null,8,["product","onClick"]))),128))],2)):(o(),n("div",ot,r[5]||(r[5]=[e("p",{class:"text-red-600 text-center text-2xl"},"لا توجد منتجات في هذا القسم !",-1)])))])]))),128))]),e("div",rt,[e("div",at,[e("div",lt,[e("h2",nt,d(s.$t("home.whyChooseUs.title")),1),e("p",it,d(s.$t("home.whyChooseUs.subtitle")),1)]),e("div",dt,[e("div",ct,[r[6]||(r[6]=e("div",{class:"w-16 h-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("h3",ut,d(s.$t("home.whyChooseUs.fastDelivery.title")),1),e("p",pt,d(s.$t("home.whyChooseUs.fastDelivery.description")),1)]),e("div",mt,[r[7]||(r[7]=e("div",{class:"w-16 h-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})])],-1)),e("h3",ht,d(s.$t("home.whyChooseUs.freshFood.title")),1),e("p",vt,d(s.$t("home.whyChooseUs.freshFood.description")),1)]),e("div",ft,[r[8]||(r[8]=e("div",{class:"w-16 h-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("h3",gt,d(s.$t("home.whyChooseUs.highQuality.title")),1),e("p",xt,d(s.$t("home.whyChooseUs.highQuality.description")),1)])])])]),p.value?(o(),P(oe,{key:2,open:m.value,product:p.value,onClose:O,onAddToCart:x,rtl:""},null,8,["open","product"])):$("",!0),T(Ue,{open:k.value,onClose:r[0]||(r[0]=u=>k.value=!1)},null,8,["open"])])}}};export{$t as default};
